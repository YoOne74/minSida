<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="internetsHistoria.css" />
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/zero-md@3?register"
    ></script>
    <title>Internets Historia</title>
  </head>

  <body>
    <header>
      <h1 style="font-size: 80px; margin-bottom: 1vh">INTERNETS HISTORIA!</h1>
      <p
        style="
          width: 40vw;
          text-align: center;
          margin: auto;
          margin-bottom: 10vh;
        "
      >
        I denna sida kommer jag att skriva lite kort om internets historia
        uppdelat i 7 delar, en för varje årtionde sedan dess skapelse 1960,
        dessa kan du hoppa mellan genom att klicka på nummrerna i sidan!
      </p>
    </header>
    <div
      style="display: flex; flex-direction: row-reverse"
      class="tempContainer"
    >
      <zero-md
        id="md"
        style="width: 40vw; margin: auto"
        src="content/Internet historia.md"
      ></zero-md>

      <div
        style="position: sticky; right: 20px; top: 0; height: 20vh"
        class="toc-container"
      >
        <ul id="toc"></ul>
      </div>
    </div>

    <div style="position: fixed; bottom: 18px; left: 20px">
      <a href="../../index.html">
        <img
          style="height: 38px; border-radius: 5px"
          src="../../shared/badeline2.png"
          alt="bild av badeline"
        />
      </a>
    </div>
    <script>
      const md = document.getElementById("md");
      const toc = document.getElementById("toc");

      md.addEventListener("zero-md-rendered", () => {
        const headings = md.shadowRoot.querySelectorAll(
          "h1, h2, h3, h4, h5, h6"
        );

        headings.forEach((heading, index) => {
          if (!heading.id) {
            heading.id = "heading-" + index;
          }

          const level = parseInt(heading.tagName.substring(1)); // 1–6

          const li = document.createElement("li");
          li.dataset.level = level;

          const link = document.createElement("a");
          link.href = "#" + heading.id;
          link.textContent = heading.textContent;

          li.appendChild(link);

          const indent = (level - 1) * 12;
          li.style.marginLeft = `${indent}px`;

          toc.appendChild(li);
        });
      });
    </script>
  </body>
</html>
